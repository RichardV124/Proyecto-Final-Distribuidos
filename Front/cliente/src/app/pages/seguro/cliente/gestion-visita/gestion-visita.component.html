<section class="breadcumb-area bg-img" style="background-image: url(https://colorlib.com/preview/theme/south/img/bg-img/hero1.jpg);">
  <div class="container h-100">
      <div class="row h-100 align-items-center">
          <div class="col-12">
              <div class="breadcumb-content">
                  <h3 class="breadcumb-title">Gestión de visitas</h3>
              </div>
          </div>
      </div>
  </div>
</section>
<br><br><br>


<div class="south-search-area">
    <div class="container">
        <div class="row">
            <div class="col-12" style="margin: 0 auto;">
                <div class="advanced-search-form">
                    <!-- Search Title -->
                    <div class="search-title">
                        <p>Registro inmueble</p>
                    </div>
                    <!-- Search Form -->
                    <div class="card-body">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-2"><label>Fecha</label></div>
                                <div class="col-md-4">
                                  <input type="date" min="{{dateToday}}" [(ngModel)]="selectedVisita.fecha" placeholder="Ingrese fecha de nacimiento yyyy-dd-mm" class="form-control">    
                                </div>   
                                <div class="col-md-2"><label>Hora</label></div>
                                <div class="col-md-4">
                                  <select  [(ngModel)]="selectedVisita.hora" class="form-control">
                                    <option [ngValue]="0" selected disabled hidden>Seleccione una hora</option>
                                    <option [ngValue]="8">8:00</option>
                                    <option [ngValue]="9">9:00</option>
                                    <option [ngValue]="10">10:00</option>
                                    <option [ngValue]="11">11:00</option>
                                    <option [ngValue]="14">14:00</option>
                                    <option [ngValue]="15">15:00</option>
                                    <option [ngValue]="16">16:00</option>
                                    <option [ngValue]="17">17:00</option>
                                </select>
                                </div>                   
                            </div>                                     
                        </div>
                        <div class="form-group">
                          <div class="row">
                            <div class="col-md-4"><label>Descripción</label></div>
                                <div class="col-md-8">
                                  <textarea style="height: 100px;" [(ngModel)]="selectedVisita.descripcion" class="form-control"></textarea>   
                                </div>   
                          </div>
                        </div>
                        <button (click)="registrar()" class="btn south-btn m-1"> 
                          Solicitar Visita
                        </button>  
                    </div>
                    <div class="aviso alert alert-danger" style="margin: 15px 0 0 0;" *ngIf="show == 1"><div id="close" (click)="cerrarMsj()" title="Cerrar">x</div>{{respuesta.msj}}</div>
                    <div class="aviso alert alert-success" style="margin: 15px 0 0 0;" *ngIf="show == 2"><div id="close" (click)="cerrarMsj()" title="Cerrar">x</div>{{respuesta.msj}}</div>
                </div>
            </div>
        </div>
    </div>
</div>
<br><br><br><br>

<div class="south-search-area">
    <div class="container">
        <div class="row">
            <div class="col-12" style="margin: 0 auto;">
                <div class="advanced-search-form">
                    <!-- Search Title -->
                    <div class="search-title">
                        <p>Visitas pendientes</p>
                    </div>
                    <!-- Search Form -->
                    <div class="panel single-accordion" style="width: 100%;">
                        <h6><a role="button" class="" aria-expanded="true" aria-controls="collapseOne" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">Visitas por confirmar
                                <span class="accor-open"><i class="fa fa-plus" aria-hidden="true"></i></span>
                                <span class="accor-close"><i class="fa fa-minus" aria-hidden="true"></i></span>
                                </a></h6>
                        <div id="collapseOne" class="accordion-content collapse show">
                            <table class="table">
                                <thead>
                                  <tr>                        
                                    <th scope="col"><p class="coltabla">Identidicador</p></th>
                                    <th scope="col"><p class="coltabla">Tipo de visita</p></th>
                                    <th scope="col"><p class="coltabla">Fecha</p></th>                
                                    <th scope="col"><p class="coltabla">Hora</p></th>
                                    <th scope="col"><p class="coltabla">Estado</p></th>
                                    <th scope="col"><p class="coltabla">Eliminar</p></th>                     
                                  </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let p of visitasSinConfirmar">      
                                    <th scope="row">{{p.id}}</th>
                                    <td>{{p.tipo_visita}}</td>
                                    <td>{{p.fecha}}</td>
                                    <td>{{p.hora}}:00</td>
                                    <td>
                                        <label *ngIf="p.estado==0">Solicitada</label>
                                    </td>
                                    <td><button (click)="eliminar(p.id)" class="btn south-btn active m-1"> Cancelar</button></td>                      
                                  </tr>
                                </tbody>
                              </table>
                        </div>
                    </div>
                    <!-- single accordian area -->
                    <div class="panel single-accordion" style="width: 100%;">
                        <h6>
                            <a role="button" class="collapsed" aria-expanded="true" aria-controls="collapseTwo" data-parent="#accordion" data-toggle="collapse" href="#collapseTwo">Visitas confirmadas
                                    <span class="accor-open"><i class="fa fa-plus" aria-hidden="true"></i></span>
                                    <span class="accor-close"><i class="fa fa-minus" aria-hidden="true"></i></span>
                                    </a>
                        </h6>
                        <div id="collapseTwo" class="accordion-content collapse">
                            <table class="table">
                                <thead>
                                  <tr>                        
                                    <th scope="col"><p class="coltabla">Identidicador</p></th>
                                    <th scope="col"><p class="coltabla">Tipo de visita</p></th>
                                    <th scope="col"><p class="coltabla">Fecha</p></th>                
                                    <th scope="col"><p class="coltabla">Hora</p></th>
                                    <th scope="col"><p class="coltabla">Inmueble</p></th>
                                    <th scope="col"><p class="coltabla">Empleado</p></th>
                                    <th scope="col"><p class="coltabla">Estado</p></th>
                                    <th scope="col"><p class="coltabla">Eliminar</p></th>                     
                                  </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let p of visitasConfirmadas">      
                                    <th scope="row">{{p.id}}</th>
                                    <td>{{p.tipo_visita}}</td>
                                    <td>{{p.fecha}}</td>
                                    <td>{{p.hora}}</td>
                                    <td>{{p.inmueble_id}}</td>
                                    <td>{{p.empleado_cedula}}</td>
                                    <td>
                                        <label *ngIf="p.estado==1">Asignada</label>
                                    </td>
                                    <td><button (click)="eliminar(p.id)" class="btn south-btn active m-1"> Cancelar</button></td>                      
                                  </tr>
                                </tbody>
                              </table>
                        </div>
                    </div>
            </div>
        </div>
    </div>
</div>